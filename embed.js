let userId=null,sender=document.querySelector("[data-user]");const button=document.querySelector(".data-vokz");let iframe=document.querySelector(".vokz-iframe"),container=document.querySelector(".vokz-iframe-container"),inserted=!1;function insertInBody(){container&&(container.classList.add("show"),document.body.appendChild(container))}function removeFromBody(){container&&(container.classList.remove("show"),document.body.removeChild(container))}function buttonClickEvent(){inserted?removeFromBody():insertInBody(),inserted=!inserted}function initButtonConfiguration(){button?button.addEventListener("click",buttonClickEvent):console.log("[Vokz]: As configurações iniciais não foram encontradas!")}function initIframeConfiguration(){if(!container){(container=document.createElement("div")).classList.add("vokz-iframe-container"),iframe=document.createElement("iframe");const e=document.createElement("button");e.classList.add("vokz-iframe-close-button"),e.classList.add("fa-solid"),e.classList.add("fa-circle-xmark"),e.addEventListener("click",buttonClickEvent),iframe.classList.add("vokz-iframe");let n="";n=sender&&sender.dataset?"http://localhost:4200/widget?id="+userId+"&sender="+sender.dataset.user:"http://localhost:4200/widget?id="+userId,iframe.src=n,iframe.frameBorder=0,container.appendChild(e),container.appendChild(iframe)}}function init(){const e=new URL(document.currentScript.src).searchParams.get("id");console.log("O ID é:",e),e?userId=e:console.log("[Vokz]: As informações de usuário não foram encontradas!")}init(),userId&&(initButtonConfiguration(),initIframeConfiguration());